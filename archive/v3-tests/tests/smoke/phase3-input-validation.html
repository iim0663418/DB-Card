<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 3 Input Validation - Smoke Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .test-section h3 { margin-top: 0; color: #333; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 4px; }
        .pass { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .test-button { background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin: 5px; }
        .test-button:hover { background: #0056b3; }
        .test-input { width: 100%; padding: 8px; margin: 5px 0; border: 1px solid #ddd; border-radius: 4px; }
        .test-output { background: #f8f9fa; padding: 10px; border-radius: 4px; margin: 10px 0; font-family: monospace; white-space: pre-wrap; }
        .summary { background: #e9ecef; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .progress { width: 100%; height: 20px; background: #e9ecef; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        .progress-bar { height: 100%; background: #28a745; transition: width 0.3s ease; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”’ Phase 3 (P1) - Client-Side Input Validation</h1>
        <p>æ¸¬è©¦ PWA-08 åˆ° PWA-11 çš„è¼¸å…¥é©—è­‰åŠŸèƒ½</p>

        <div class="summary">
            <h3>æ¸¬è©¦é€²åº¦</h3>
            <div class="progress">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>
            <p id="progressText">æº–å‚™é–‹å§‹æ¸¬è©¦...</p>
        </div>

        <!-- PWA-08: Prototype Pollution Protection -->
        <div class="test-section">
            <h3>ğŸ›¡ï¸ PWA-08: åŸå‹æ±¡æŸ“é˜²è­·æ¸¬è©¦</h3>
            <button class="test-button" onclick="testPrototypePollution()">åŸ·è¡ŒåŸå‹æ±¡æŸ“æ¸¬è©¦</button>
            <div id="prototypePollutionResults"></div>
        </div>

        <!-- PWA-09: Client-Side XSS Prevention -->
        <div class="test-section">
            <h3>ğŸš« PWA-09: XSS é˜²è­·æ¸¬è©¦</h3>
            <button class="test-button" onclick="testXSSPrevention()">åŸ·è¡Œ XSS é˜²è­·æ¸¬è©¦</button>
            <div id="xssPreventionResults"></div>
        </div>

        <!-- PWA-10: Card Rendering Security -->
        <div class="test-section">
            <h3>ğŸ¨ PWA-10: åç‰‡æ¸²æŸ“å®‰å…¨æ¸¬è©¦</h3>
            <button class="test-button" onclick="testCardRenderingSecurity()">åŸ·è¡Œåç‰‡æ¸²æŸ“å®‰å…¨æ¸¬è©¦</button>
            <div id="cardRenderingResults"></div>
        </div>

        <!-- PWA-11: Input Validation Schema -->
        <div class="test-section">
            <h3>ğŸ“‹ PWA-11: è¼¸å…¥é©—è­‰æ¶æ§‹æ¸¬è©¦</h3>
            <button class="test-button" onclick="testInputValidationSchema()">åŸ·è¡Œ Schema é©—è­‰æ¸¬è©¦</button>
            <div id="schemaValidationResults"></div>
        </div>

        <!-- Interactive Testing -->
        <div class="test-section">
            <h3>ğŸ§ª äº’å‹•å¼æ¸¬è©¦</h3>
            <div>
                <label>æ¸¬è©¦è¼¸å…¥:</label>
                <input type="text" id="testInput" class="test-input" placeholder="è¼¸å…¥è¦æ¸¬è©¦çš„å…§å®¹...">
                <button class="test-button" onclick="testUserInput()">æ¸¬è©¦è¼¸å…¥é©—è­‰</button>
            </div>
            <div id="interactiveResults"></div>
        </div>

        <div class="summary" id="finalSummary" style="display: none;">
            <h3>ğŸ“Š æ¸¬è©¦ç¸½çµ</h3>
            <div id="summaryContent"></div>
        </div>
    </div>

    <!-- Load Security Modules -->
    <script src="../../src/security/SecurityInputHandler.js"></script>
    <script src="../../src/security/SecurityDataHandler.js"></script>
    <script src="../../src/security/InputValidationSchema.js"></script>

    <script>
        let testResults = {
            total: 0,
            passed: 0,
            failed: 0,
            details: []
        };

        function updateProgress() {
            const progress = (testResults.total > 0) ? (testResults.passed / testResults.total) * 100 : 0;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = 
                `å·²å®Œæˆ ${testResults.total} é …æ¸¬è©¦ï¼Œé€šé ${testResults.passed} é …ï¼Œå¤±æ•— ${testResults.failed} é …`;
        }

        function addTestResult(name, passed, details) {
            testResults.total++;
            if (passed) {
                testResults.passed++;
            } else {
                testResults.failed++;
            }
            testResults.details.push({ name, passed, details });
            updateProgress();
        }

        function displayResult(containerId, title, passed, details) {
            const container = document.getElementById(containerId);
            const resultClass = passed ? 'pass' : 'fail';
            const resultIcon = passed ? 'âœ…' : 'âŒ';
            
            container.innerHTML += `
                <div class="test-result ${resultClass}">
                    <strong>${resultIcon} ${title}</strong>
                    <div class="test-output">${details}</div>
                </div>
            `;
        }

        // PWA-08: åŸå‹æ±¡æŸ“é˜²è­·æ¸¬è©¦
        function testPrototypePollution() {
            const container = document.getElementById('prototypePollutionResults');
            container.innerHTML = '<div class="info">åŸ·è¡ŒåŸå‹æ±¡æŸ“é˜²è­·æ¸¬è©¦...</div>';

            try {
                // æ¸¬è©¦ 1: åŸºæœ¬åŸå‹æ±¡æŸ“æª¢æ¸¬
                const maliciousInputs = [
                    '__proto__.polluted = true',
                    'constructor.prototype.polluted = true',
                    '{"__proto__": {"polluted": true}}',
                    'Object.prototype.polluted = true'
                ];

                let allPassed = true;
                let testDetails = '';

                maliciousInputs.forEach((input, index) => {
                    try {
                        const result = SecurityInputHandler.validateAndSanitize(input, 'text');
                        const passed = !result.isValid || !result.sanitized.includes('__proto__');
                        
                        testDetails += `æ¸¬è©¦ ${index + 1}: ${input.substring(0, 30)}... - ${passed ? 'é€šé' : 'å¤±æ•—'}\n`;
                        if (!passed) allPassed = false;
                        
                        addTestResult(`åŸå‹æ±¡æŸ“æª¢æ¸¬ ${index + 1}`, passed, input);
                    } catch (error) {
                        testDetails += `æ¸¬è©¦ ${index + 1}: æ‹‹å‡ºç•°å¸¸ (æ­£ç¢ºè¡Œç‚º) - é€šé\n`;
                        addTestResult(`åŸå‹æ±¡æŸ“æª¢æ¸¬ ${index + 1}`, true, 'æ­£ç¢ºæ‹‹å‡ºç•°å¸¸');
                    }
                });

                // æ¸¬è©¦ 2: ç‰©ä»¶æ¸…ç†åŠŸèƒ½
                try {
                    const maliciousObj = {
                        name: 'test',
                        '__proto__': { polluted: true },
                        'constructor': { polluted: true }
                    };
                    
                    const sanitized = SecurityInputHandler.sanitizeObject(maliciousObj);
                    const objPassed = !('__proto__' in sanitized) && !('constructor' in sanitized);
                    
                    testDetails += `ç‰©ä»¶æ¸…ç†æ¸¬è©¦: ${objPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                    addTestResult('ç‰©ä»¶æ¸…ç†', objPassed, 'ç§»é™¤å±éšªå±¬æ€§');
                    
                    if (!objPassed) allPassed = false;
                } catch (error) {
                    testDetails += `ç‰©ä»¶æ¸…ç†æ¸¬è©¦: æ‹‹å‡ºç•°å¸¸ - ${error.message}\n`;
                    addTestResult('ç‰©ä»¶æ¸…ç†', false, error.message);
                    allPassed = false;
                }

                displayResult('prototypePollutionResults', 'åŸå‹æ±¡æŸ“é˜²è­·æ¸¬è©¦', allPassed, testDetails);

            } catch (error) {
                displayResult('prototypePollutionResults', 'åŸå‹æ±¡æŸ“é˜²è­·æ¸¬è©¦', false, `æ¸¬è©¦åŸ·è¡Œå¤±æ•—: ${error.message}`);
                addTestResult('åŸå‹æ±¡æŸ“é˜²è­·', false, error.message);
            }
        }

        // PWA-09: XSS é˜²è­·æ¸¬è©¦
        function testXSSPrevention() {
            const container = document.getElementById('xssPreventionResults');
            container.innerHTML = '<div class="info">åŸ·è¡Œ XSS é˜²è­·æ¸¬è©¦...</div>';

            try {
                const xssPayloads = [
                    '<script>alert("XSS")</script>',
                    '<img src="x" onerror="alert(1)">',
                    'javascript:alert("XSS")',
                    '<iframe src="javascript:alert(1)"></iframe>',
                    '<div onclick="alert(1)">Click me</div>'
                ];

                let allPassed = true;
                let testDetails = '';

                xssPayloads.forEach((payload, index) => {
                    const sanitized = SecurityDataHandler.sanitizeOutput(payload, 'html');
                    const passed = !sanitized.includes('<script') && 
                                  !sanitized.includes('javascript:') && 
                                  !sanitized.includes('onerror=') &&
                                  !sanitized.includes('onclick=');
                    
                    testDetails += `XSS æ¸¬è©¦ ${index + 1}: ${payload.substring(0, 30)}...\n`;
                    testDetails += `æ¸…ç†çµæœ: ${sanitized}\n`;
                    testDetails += `ç‹€æ…‹: ${passed ? 'é€šé' : 'å¤±æ•—'}\n\n`;
                    
                    addTestResult(`XSS é˜²è­· ${index + 1}`, passed, payload);
                    if (!passed) allPassed = false;
                });

                // æ¸¬è©¦å®‰å…¨ DOM æ“ä½œ
                try {
                    const safeElement = SecurityDataHandler.createSafeElement('div', 
                        { class: 'test', 'data-safe': 'true' }, 
                        'Safe content'
                    );
                    const domPassed = safeElement.tagName === 'DIV' && 
                                     safeElement.textContent === 'Safe content';
                    
                    testDetails += `å®‰å…¨ DOM æ“ä½œ: ${domPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                    addTestResult('å®‰å…¨ DOM æ“ä½œ', domPassed, 'å‰µå»ºå®‰å…¨å…ƒç´ ');
                    
                    if (!domPassed) allPassed = false;
                } catch (error) {
                    testDetails += `å®‰å…¨ DOM æ“ä½œ: å¤±æ•— - ${error.message}\n`;
                    addTestResult('å®‰å…¨ DOM æ“ä½œ', false, error.message);
                    allPassed = false;
                }

                displayResult('xssPreventionResults', 'XSS é˜²è­·æ¸¬è©¦', allPassed, testDetails);

            } catch (error) {
                displayResult('xssPreventionResults', 'XSS é˜²è­·æ¸¬è©¦', false, `æ¸¬è©¦åŸ·è¡Œå¤±æ•—: ${error.message}`);
                addTestResult('XSS é˜²è­·', false, error.message);
            }
        }

        // PWA-10: åç‰‡æ¸²æŸ“å®‰å…¨æ¸¬è©¦
        function testCardRenderingSecurity() {
            const container = document.getElementById('cardRenderingResults');
            container.innerHTML = '<div class="info">åŸ·è¡Œåç‰‡æ¸²æŸ“å®‰å…¨æ¸¬è©¦...</div>';

            try {
                // æ¨¡æ“¬æƒ¡æ„åç‰‡è³‡æ–™
                const maliciousCard = {
                    id: '<script>alert("XSS")</script>',
                    data: {
                        name: '<img src="x" onerror="alert(1)">',
                        title: 'javascript:alert("XSS")',
                        email: '<script>document.cookie</script>@evil.com',
                        phone: '<iframe src="javascript:alert(1)"></iframe>',
                        avatar: 'javascript:alert("XSS")',
                        organization: '<div onclick="alert(1)">Evil Org</div>'
                    },
                    type: 'personal',
                    modified: new Date().toISOString()
                };

                let allPassed = true;
                let testDetails = '';

                // æ¸¬è©¦å„å€‹æ¬„ä½çš„æ¸…ç†
                const fields = ['name', 'title', 'email', 'phone', 'avatar', 'organization'];
                fields.forEach(field => {
                    const originalValue = maliciousCard.data[field];
                    const sanitized = SecurityDataHandler.sanitizeOutput(originalValue, 'html');
                    
                    const passed = !sanitized.includes('<script') && 
                                  !sanitized.includes('javascript:') && 
                                  !sanitized.includes('onerror=') &&
                                  !sanitized.includes('onclick=') &&
                                  !sanitized.includes('<iframe');
                    
                    testDetails += `${field} æ¬„ä½æ¸…ç†: ${passed ? 'é€šé' : 'å¤±æ•—'}\n`;
                    testDetails += `åŸå§‹: ${originalValue}\n`;
                    testDetails += `æ¸…ç†å¾Œ: ${sanitized}\n\n`;
                    
                    addTestResult(`åç‰‡æ¬„ä½æ¸…ç† ${field}`, passed, originalValue);
                    if (!passed) allPassed = false;
                });

                // æ¸¬è©¦ ID æ¸…ç†
                const sanitizedId = SecurityDataHandler.sanitizeOutput(maliciousCard.id, 'attribute');
                const idPassed = !sanitizedId.includes('<script');
                testDetails += `ID æ¸…ç†: ${idPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                addTestResult('åç‰‡ ID æ¸…ç†', idPassed, maliciousCard.id);
                if (!idPassed) allPassed = false;

                displayResult('cardRenderingResults', 'åç‰‡æ¸²æŸ“å®‰å…¨æ¸¬è©¦', allPassed, testDetails);

            } catch (error) {
                displayResult('cardRenderingResults', 'åç‰‡æ¸²æŸ“å®‰å…¨æ¸¬è©¦', false, `æ¸¬è©¦åŸ·è¡Œå¤±æ•—: ${error.message}`);
                addTestResult('åç‰‡æ¸²æŸ“å®‰å…¨', false, error.message);
            }
        }

        // PWA-11: è¼¸å…¥é©—è­‰æ¶æ§‹æ¸¬è©¦
        function testInputValidationSchema() {
            const container = document.getElementById('schemaValidationResults');
            container.innerHTML = '<div class="info">åŸ·è¡Œè¼¸å…¥é©—è­‰æ¶æ§‹æ¸¬è©¦...</div>';

            try {
                let allPassed = true;
                let testDetails = '';

                // æ¸¬è©¦ 1: æœ‰æ•ˆåç‰‡è³‡æ–™
                const validCardData = {
                    name: 'å¼µä¸‰',
                    title: 'è»Ÿé«”å·¥ç¨‹å¸«',
                    email: 'zhang@example.com',
                    phone: '02-1234-5678'
                };

                const validResult = InputValidationSchema.validateCardData(validCardData);
                const validPassed = validResult.valid;
                testDetails += `æœ‰æ•ˆåç‰‡è³‡æ–™é©—è­‰: ${validPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                if (!validPassed) {
                    testDetails += `éŒ¯èª¤: ${validResult.errors.join(', ')}\n`;
                }
                addTestResult('æœ‰æ•ˆåç‰‡è³‡æ–™é©—è­‰', validPassed, 'æ¨™æº–åç‰‡è³‡æ–™');
                if (!validPassed) allPassed = false;

                // æ¸¬è©¦ 2: ç„¡æ•ˆåç‰‡è³‡æ–™
                const invalidCardData = {
                    name: '', // ç©ºåç¨±
                    email: 'invalid-email', // ç„¡æ•ˆ email
                    phone: 'abc123', // ç„¡æ•ˆé›»è©±
                    extraField: 'not allowed' // ä¸å…è¨±çš„æ¬„ä½
                };

                const invalidResult = InputValidationSchema.validateCardData(invalidCardData);
                const invalidPassed = !invalidResult.valid && invalidResult.errors.length > 0;
                testDetails += `ç„¡æ•ˆåç‰‡è³‡æ–™é©—è­‰: ${invalidPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                testDetails += `æª¢æ¸¬åˆ°éŒ¯èª¤: ${invalidResult.errors.join(', ')}\n`;
                addTestResult('ç„¡æ•ˆåç‰‡è³‡æ–™é©—è­‰', invalidPassed, 'æ‡‰è©²æ‹’çµ•ç„¡æ•ˆè³‡æ–™');
                if (!invalidPassed) allPassed = false;

                // æ¸¬è©¦ 3: ä½¿ç”¨è€…è¼¸å…¥é©—è­‰
                const userInput = {
                    searchTerm: 'å¼µä¸‰',
                    filterType: 'personal'
                };

                const userInputResult = InputValidationSchema.validateUserInput(userInput);
                const userInputPassed = userInputResult.valid;
                testDetails += `ä½¿ç”¨è€…è¼¸å…¥é©—è­‰: ${userInputPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                addTestResult('ä½¿ç”¨è€…è¼¸å…¥é©—è­‰', userInputPassed, 'æœå°‹å’Œç¯©é¸è¼¸å…¥');
                if (!userInputPassed) allPassed = false;

                // æ¸¬è©¦ 4: æª”æ¡ˆåŒ¯å…¥é©—è­‰
                const fileImport = {
                    type: 'json',
                    data: validCardData,
                    metadata: {
                        filename: 'card.json',
                        size: 1024,
                        timestamp: new Date().toISOString()
                    }
                };

                const fileImportResult = InputValidationSchema.validateFileImport(fileImport);
                const fileImportPassed = fileImportResult.valid;
                testDetails += `æª”æ¡ˆåŒ¯å…¥é©—è­‰: ${fileImportPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                addTestResult('æª”æ¡ˆåŒ¯å…¥é©—è­‰', fileImportPassed, 'JSON æª”æ¡ˆåŒ¯å…¥');
                if (!fileImportPassed) allPassed = false;

                // æ¸¬è©¦ 5: Schema åˆ—è¡¨
                const schemas = InputValidationSchema.getAvailableSchemas();
                const schemasPassed = schemas.includes('cardData') && 
                                    schemas.includes('userInput') && 
                                    schemas.includes('fileImport');
                testDetails += `Schema è¨»å†Šæª¢æŸ¥: ${schemasPassed ? 'é€šé' : 'å¤±æ•—'}\n`;
                testDetails += `å¯ç”¨ Schema: ${schemas.join(', ')}\n`;
                addTestResult('Schema è¨»å†Š', schemasPassed, 'æª¢æŸ¥é è¨­ Schema');
                if (!schemasPassed) allPassed = false;

                displayResult('schemaValidationResults', 'è¼¸å…¥é©—è­‰æ¶æ§‹æ¸¬è©¦', allPassed, testDetails);

            } catch (error) {
                displayResult('schemaValidationResults', 'è¼¸å…¥é©—è­‰æ¶æ§‹æ¸¬è©¦', false, `æ¸¬è©¦åŸ·è¡Œå¤±æ•—: ${error.message}`);
                addTestResult('è¼¸å…¥é©—è­‰æ¶æ§‹', false, error.message);
            }
        }

        // äº’å‹•å¼æ¸¬è©¦
        function testUserInput() {
            const input = document.getElementById('testInput').value;
            const container = document.getElementById('interactiveResults');
            
            if (!input.trim()) {
                container.innerHTML = '<div class="info">è«‹è¼¸å…¥è¦æ¸¬è©¦çš„å…§å®¹</div>';
                return;
            }

            try {
                let testDetails = `æ¸¬è©¦è¼¸å…¥: ${input}\n\n`;

                // 1. åŸºæœ¬æ¸…ç†æ¸¬è©¦
                const sanitized = SecurityInputHandler.validateAndSanitize(input, 'text');
                testDetails += `åŸºæœ¬é©—è­‰: ${sanitized.isValid ? 'é€šé' : 'å¤±æ•—'}\n`;
                testDetails += `æ¸…ç†çµæœ: ${sanitized.sanitized}\n`;
                if (sanitized.errors.length > 0) {
                    testDetails += `éŒ¯èª¤: ${sanitized.errors.join(', ')}\n`;
                }
                testDetails += '\n';

                // 2. XSS é˜²è­·æ¸¬è©¦
                const xssCleaned = SecurityDataHandler.sanitizeOutput(input, 'html');
                testDetails += `XSS é˜²è­·æ¸…ç†: ${xssCleaned}\n\n`;

                // 3. åŸå‹æ±¡æŸ“æª¢æ¸¬
                try {
                    const objCleaned = SecurityInputHandler.sanitizeObject({ test: input });
                    testDetails += `ç‰©ä»¶æ¸…ç†: æˆåŠŸ\n`;
                    testDetails += `çµæœ: ${JSON.stringify(objCleaned)}\n`;
                } catch (error) {
                    testDetails += `ç‰©ä»¶æ¸…ç†: æª¢æ¸¬åˆ°å±éšªå…§å®¹ - ${error.message}\n`;
                }

                container.innerHTML = `<div class="test-output">${testDetails}</div>`;

            } catch (error) {
                container.innerHTML = `<div class="fail">æ¸¬è©¦å¤±æ•—: ${error.message}</div>`;
            }
        }

        // åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
        function runAllTests() {
            testResults = { total: 0, passed: 0, failed: 0, details: [] };
            
            setTimeout(() => testPrototypePollution(), 100);
            setTimeout(() => testXSSPrevention(), 500);
            setTimeout(() => testCardRenderingSecurity(), 1000);
            setTimeout(() => testInputValidationSchema(), 1500);
            
            setTimeout(() => {
                showFinalSummary();
            }, 2000);
        }

        function showFinalSummary() {
            const summary = document.getElementById('finalSummary');
            const content = document.getElementById('summaryContent');
            
            const passRate = testResults.total > 0 ? 
                ((testResults.passed / testResults.total) * 100).toFixed(1) : 0;
            
            let summaryHtml = `
                <p><strong>ç¸½æ¸¬è©¦æ•¸:</strong> ${testResults.total}</p>
                <p><strong>é€šé:</strong> ${testResults.passed}</p>
                <p><strong>å¤±æ•—:</strong> ${testResults.failed}</p>
                <p><strong>é€šéç‡:</strong> ${passRate}%</p>
                <h4>è©³ç´°çµæœ:</h4>
                <ul>
            `;
            
            testResults.details.forEach(test => {
                const icon = test.passed ? 'âœ…' : 'âŒ';
                summaryHtml += `<li>${icon} ${test.name}</li>`;
            });
            
            summaryHtml += '</ul>';
            
            if (testResults.failed === 0) {
                summaryHtml += '<div class="pass"><strong>ğŸ‰ æ‰€æœ‰æ¸¬è©¦é€šéï¼Phase 3 è¼¸å…¥é©—è­‰åŠŸèƒ½æ­£å¸¸é‹ä½œã€‚</strong></div>';
            } else {
                summaryHtml += '<div class="fail"><strong>âš ï¸ éƒ¨åˆ†æ¸¬è©¦å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç›¸é—œåŠŸèƒ½ã€‚</strong></div>';
            }
            
            content.innerHTML = summaryHtml;
            summary.style.display = 'block';
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œè‡ªå‹•åŸ·è¡Œæ¸¬è©¦
        window.addEventListener('load', () => {
            console.log('Phase 3 Input Validation Test Suite Loaded');
            document.getElementById('progressText').textContent = 'æ¸¬è©¦å¥—ä»¶å·²è¼‰å…¥ï¼Œé»æ“ŠæŒ‰éˆ•é–‹å§‹æ¸¬è©¦';
        });
    </script>
</body>
</html>